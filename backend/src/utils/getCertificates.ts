import https from 'https';
import fs from 'fs';

export const getCertificates = () => {

    const inter_cert = `
-----BEGIN CERTIFICATE-----
MIIEkDCCA3igAwIBAgIQaqGPGx7spkx29dDSCb1bvTANBgkqhkiG9w0BAQsFADCB
ijELMAkGA1UEBhMCQlIxFTATBgNVBAgMDE1pbmFzIEdlcmFpczEXMBUGA1UEBwwO
QmVsbyBIb3Jpem9udGUxDDAKBgNVBAoMA0FQSTELMAkGA1UECwwCSVQxMDAuBgNV
BAMMJ0FQSSBJbnRlcm1lZGlhdGUgQ2VydGlmaWNhdGUgQXV0aG9yaXR5CTAeFw0y
NDExMDUyMDIxMTlaFw0yNTExMDUyMTIxMTlaMIGlMQswCQYDVQQGEwJCUjELMAkG
A1UECBMCUkoxEjAQBgNVBAcTCUlUQVBFUlVOQTEtMCsGA1UECxMkZDM3N2I5MjQt
MWE1ZC00ZjdmLWE0NzEtMjAzNTRmYTlmMDViMQ0wCwYDVQQKEwRudWxsMTcwNQYD
VQQDEy5NSVJBSSBGTE9SRVMgQ09NRVJDSU8gREUgRkxPUkVTIEUgUExBTlRBUyBM
VERBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6qX00TOepa+IweQj
G0kVftA/Yv9MVudDkalhwvX0FPCoGN63DobsxcvO0Y3DFAv64O9vW+WMZR+O+d9E
ZynqDp1R6LujjPunkVvcOuaWofjzd2/74ZxP1ytmttbVD6CJI+ogdFA/3fV2GhjU
Id5ngDp7cwbYj898upCwglTiI9OVjWXgIO6kQXV5gXhlvkd0kNuAv4OUPTgiH56I
CJgLh73kTJzVLQ4PGbARxdPOnGzqZPu5gBALASvSum8l6dYjp/Nl3ABI8wHCsudh
IJUvYKc+A+9rv3wGEZujcSMnKL0qB7cYulk5DXeEcZCE9MPMjzTPGzM45sU43tgE
ZCR7MwIDAQABo4HUMIHRMAkGA1UdEwQCMAAwHwYDVR0jBBgwFoAUFBVp/TT0EQj/
WbtOGcyVlyKK4DwwHQYDVR0OBBYEFINSKVaTdrY7pFQzcWZya8bCscolMA4GA1Ud
DwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwVQYDVR0f
BE4wTDBKoEigRoZEaHR0cDovL2NybC1hcGkuYmkubG9jYWwvY3JsLzE5MzY0ZTc2
LWM0YmUtNDBiNi05YzcxLWEzYTdiNDA0NzRhNC5jcmwwDQYJKoZIhvcNAQELBQAD
ggEBAAeC8lmumZEHlj2lEMIExUQHB+zbQNkFHaP0sOodId4esTTuNXfYCOlX0zbh
VPZuAwxw5HtzYReEn8oJy0hyVJPmCgleBXzj50whc5PQTxd9P13uUsqHw1E7pnCC
VsiRAr+O1Al8sxeVBRMIK8F7SllL7V5x7KBcEFZFZm0MD11ttXtwGw9VluBJ04wJ
WKJ48O67ncX8QlN6OZi6J00RTio32FEbUaYyxtFBtPWm4v/V9eyuL/HUoDIHEs0h
c9cs1VW8s0VtZ02SjT4brpnbkRj2EIxCDhudhLVXFu//CQsDCUs2v6Nf8eODW27q
gIxhVZDQcn5mWbY3rEfWWGb8WR0=
-----END CERTIFICATE-----`

const inter_key = `
-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDqpfTRM56lr4jB
5CMbSRV+0D9i/0xW50ORqWHC9fQU8KgY3rcOhuzFy87RjcMUC/rg729b5YxlH475
30RnKeoOnVHou6OM+6eRW9w65pah+PN3b/vhnE/XK2a21tUPoIkj6iB0UD/d9XYa
GNQh3meAOntzBtiPz3y6kLCCVOIj05WNZeAg7qRBdXmBeGW+R3SQ24C/g5Q9OCIf
nogImAuHveRMnNUtDg8ZsBHF086cbOpk+7mAEAsBK9K6byXp1iOn82XcAEjzAcKy
52EglS9gpz4D72u/fAYRm6NxIycovSoHtxi6WTkNd4RxkIT0w8yPNM8bMzjmxTje
2ARkJHszAgMBAAECggEAapsxiiZoqqAAgw6yQIBIys+0LLcOqODzGueYqenyldzs
kjgFdQ0p34eEFELS4XW76pv9vQOicIMRA0dDnZc2ZqNlBlbRrIjdDbZtbTk8MKSZ
gKcZCdxpjbmDNgiOzkXCaNXDHvUivyX5HUwwfJ696U0orw7qLxQ2d9Cq0NvdziZB
MCUy6XkPTHOiHWYuXBAduk4ij/fvUrwHSXPLbW7DP4IF5sGF2ue1tesozr1SnpLz
bG3FcHwbE53pxJRS8ilsyaOB5lpN1vzPkwXFimVFxeTSWM5m73G9B4j2fUyRWPmE
3xylcribAMQUWaUrdo0HkzpKm82/RQloCZfQQv0T2QKBgQD4HF/i3a0EQbUTAbf7
UkCCSQqtYZ5ed4GR3+zoffCH9LedPMtk9Qtsb7NVarPOHJRA6LqQnYKKBFgLylZy
/XmZKYxd9Aj4N6JS/tWdwanrdb2h4qO9Tupz0HiGQmFyhKNEp8HbfnSSha85RalT
rj++8bX4tkN7T0l+RbskY6csHwKBgQDyG/8KsgFMT+R0ayp4y6F6DbrkzWEEH22n
X2+wBYzHCf+wKdTa42K+v2fQuZ0oQ+OMAj/1B4KUbf3nMVGYQd0UK4i/NEUbVBB+
tUC+0jM8dj5fqjE2ALjx+u1t0/Iu44LeOYELIZ4mmax6jD7qQofjAJG6cSRvnIQN
CuXIDNMObQKBgQC48c23+q4BwkkLxfgy6vkTJQdEfsPifwqihly+YUJu1cgY+TxU
ISVGy2zOex9UwJDyYYjQS9kGsH5BK66NQMznksUDM+mLvUzOuQ7a7YWP8tBMX/jW
IIE7m2Z8Dfc9uglKIBKtXvHeVrBq7LZvni/+UYbnwlVDEbMi4S/CzFXM2QKBgCBd
f721SBkkgPzTKq1VQ3Pmi/p0Pijn7qe2SV71jvk4q/an0O2mAhhPzBgKCClO0gdw
cY5W/6zJ+2xBmo/JFj3RCAnPegGKPl5B6rLXtMO7ZuExBj0a4Z5vlffdon2EKoV8
mHSdfN/aIUWMpAh69mFxPQn4gA9vk/OOZmNU244NAoGARFnVITUqswi1NrvVblDf
c1HIQ/IsH7YkAF2zizDTDuL1z3ayqQRopf0RtApRY5pKcF6COcijyahdQqSRNoM7
yZ84Ivmm7ieYs4ppYLhePOMfNH0rRq4bRl6B0nlqVCAyLUi+eys3A0R9Rhh0TN7F
1XWMkeMhqm0tpwHAKoDlmdw=
-----END PRIVATE KEY-----
`

    const httpsAgent = new https.Agent({
        host: 'cdpj.partners.bancointer.com.br',
        cert: Buffer.from(inter_cert, 'utf-8'),
        key: Buffer.from(inter_key, 'utf-8'),
        rejectUnauthorized: true
    })
    
    return httpsAgent;
};

export const getApiCertificates = () => {
    console.log(process.env.BANCO_INTER_CERT_PEM_PATH)
    const httpsAgent = new https.Agent({
        cert: fs.readFileSync(process.env.BANCO_INTER_CERT_PEM_PATH!),
        key: fs.readFileSync(process.env.BANCO_INTER_KEY_PEM_PATH!),
        ca: fs.readFileSync(process.env.BANCO_INTER_API_CERT_PATH!),
    })
    
    return httpsAgent;
};